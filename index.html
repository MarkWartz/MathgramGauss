<<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    display: flex;
    height: 100vh;
    background-color: #ececec; /* –°–≤–µ—Ç–ª—ã–π –∑–∞–¥–Ω–∏–π —Ñ–æ–Ω */
}

.container {
    display: flex;
    width: 100%;
}

.sidebar {
    width: 250px;
    background-color: #ffffff; /* –ë–µ–ª—ã–π —Ü–≤–µ—Ç –¥–ª—è –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏ */
    padding: 20px;
    border-right: 1px solid #ccc;
    border-top-right-radius: 15px; /* –°–∫—Ä—É–≥–ª–µ–Ω–∏–µ –≤–µ—Ä—Ö–Ω–µ–≥–æ –ø—Ä–∞–≤–æ–≥–æ —É–≥–ª–∞ */
    border-bottom-right-radius: 15px; /* –°–∫—Ä—É–≥–ª–µ–Ω–∏–µ –Ω–∏–∂–Ω–µ–≥–æ –ø—Ä–∞–≤–æ–≥–æ —É–≥–ª–∞ */
    box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1); /* –õ–µ–≥–∫–∞—è —Ç–µ–Ω—å */
}

.current-contact {
    display: flex;
    align-items: center;
    background-color: #ffffff; /* –¶–≤–µ—Ç —Ñ–æ–Ω–∞ –¥–ª—è –æ–±–ª–∞—Å—Ç–∏ —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è */
    padding: 10px;
    border-radius: 8px; /* –°–∫—Ä—É–≥–ª–µ–Ω–∏–µ */
    margin-bottom: 20px;
    cursor: pointer; /* –î–µ–ª–∞–µ–º –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–º */
}

.current-contact:hover {
    background-color: #f0f0f0; /* –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ñ–æ–Ω–∞ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
}


.contact {
    display: flex;
    align-items: center;
    padding: 10px;
    cursor: pointer;
    border-radius: 8px; /* –°–∫—Ä—É–≥–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–∞–∫—Ç–∞ */
    transition: background-color 0.3s;
}

.contact:hover {
    background-color: #f0f0f0; /* –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ñ–æ–Ω–∞ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
}

.avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    margin-right: 10px;
}

.avatar-large {
    width: 100px;  /* –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∞–≤–∞—Ç–∞—Ä–∫–∏ –≤–æ –≤—Å–ø–ª—ã–≤–∞—é—â–µ–º –æ–∫–Ω–µ */
    height: 100px;
    border-radius: 50%;
}

.chat-window {
    flex: 1;
    padding: 20px;
    background-color: #f7f7f7; /* –°–≤–µ—Ç–ª–æ-—Å–µ—Ä—ã–π —Ü–≤–µ—Ç –¥–ª—è –æ–∫–Ω–∞ —á–∞—Ç–∞ */
    border-top-left-radius: 15px; /* –°–∫—Ä—É–≥–ª–µ–Ω–∏–µ –≤–µ—Ä—Ö–Ω–µ–≥–æ –ª–µ–≤–æ–≥–æ —É–≥–ª–∞ */
    border-bottom-left-radius: 15px; /* –°–∫—Ä—É–≥–ª–µ–Ω–∏–µ –Ω–∏–∂–Ω–µ–≥–æ –ª–µ–≤–æ–≥–æ —É–≥–ª–∞ */
}

#current-contact {
    display: flex;
    align-items: center;
    margin-bottom: 20px;
}

#current-name {
    font-size: 1.2em;  /* –†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ –∏–º–µ–Ω–∏ */
    display: block;
}

.compact-description {
    font-size: 0.9em;  /* –ú–µ–Ω—å—à–∏–π —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è */
    color: gray; /* –¶–≤–µ—Ç –æ–ø–∏—Å–∞–Ω–∏—è */
}

#chat-box {
    height: calc(100% - 200px); /* –£–º–µ–Ω—å—à–∞–µ–º –≤—ã—Å–æ—Ç—É, —á—Ç–æ–±—ã —É—á–µ—Å—Ç—å –ø–æ–ª–µ –≤–≤–æ–¥–∞ */
    padding: 10px;
    overflow-y: auto;
}

.message {
    border-radius: 10px; /* –°–∫—Ä—É–≥–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π */
    padding: 10px;
    margin-bottom: 10px;
    max-width: fit-content; /* –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
    word-wrap: break-word; /* –ü–µ—Ä–µ–Ω–æ—Å –¥–ª–∏–Ω–Ω—ã—Ö —Å–ª–æ–≤ */
}

.message.user {
    background-color: #d1e7dd; /* –¶–≤–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è */
    margin-left: auto; /* –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –≤–ø—Ä–∞–≤–æ */
}

.message.contact {
    background-color: #c2e7d0; /* –¶–≤–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–∞ (–∑–µ–ª—ë–Ω—ã–π) */
    opacity: 0.8; /* –ë–ª–µ–¥–Ω–æ—Å—Ç—å */
}

.popup {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5); /* –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω */
    justify-content: center;
    align-items: center;
    z-index: 1000;
}

.popup-content {
    background-color: white;
    padding: 20px;
    border-radius: 10px;
    text-align: center;
    width: 400px; /* –®–∏—Ä–∏–Ω–∞ –ø–æ–ø–∞–ø–∞ */
}

.close {
    cursor: pointer;
    float: right;
    font-size: 20px;
}

.input-container {
    display: flex;
    align-items: center; /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏ */
    margin-top: 10px;
}

.message-input {
    flex: 1; /* –ü–æ–∑–≤–æ–ª—è–µ–º –ø–æ–ª—é –≤–≤–æ–¥–∞ –∑–∞–Ω–∏–º–∞—Ç—å –æ—Å—Ç–∞–≤—à–µ–µ—Å—è –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ */
    padding: 10px;
    border-radius: 10px; /* –°–∫—Ä—É–≥–ª–µ–Ω–∏–µ –ø–æ–ª—è –≤–≤–æ–¥–∞ */
    border: 1px solid #ccc; /* –ì—Ä–∞–Ω–∏—Ü–∞ –ø–æ–ª—è –≤–≤–æ–¥–∞ */
    margin-right: 10px; /* –û—Ç—Å—Ç—É–ø –º–µ–∂–¥—É –ø–æ–ª–µ–º –∏ –∫–Ω–æ–ø–∫–æ–π */
}

.send-button {
    padding: 10px 15px;
    border-radius: 10px; /* –°–∫—Ä—É–≥–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ */
    background-color: #007bff; /* –¶–≤–µ—Ç —Ñ–æ–Ω–∞ –∫–Ω–æ–ø–∫–∏ */
    color: white; /* –¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –∫–Ω–æ–ø–∫–µ */
    border: none; /* –£–±–∏—Ä–∞–µ–º –≥—Ä–∞–Ω–∏—Ü—É –∫–Ω–æ–ø–∫–∏ */
    cursor: pointer; /* –ò–∑–º–µ–Ω—è–µ–º –∫—É—Ä—Å–æ—Ä –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
}

.send-button:hover {
    background-color: #0056b3; /* –¢–µ–º–Ω–µ–µ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
}

.date-container {
    display: flex; /* –ò—Å–ø–æ–ª—å–∑—É–µ–º flexbox –¥–ª—è —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ */
    justify-content: center; /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏ */
    margin: 10px 0; /* –û—Ç—Å—Ç—É–ø —Å–≤–µ—Ä—Ö—É –∏ —Å–Ω–∏–∑—É */
}

.date {
    background-color: rgba(0, 255, 0, 0.3); /* –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π –∑–µ–ª–µ–Ω—ã–π —Ü–≤–µ—Ç */
    border-radius: 15px;
    padding: 5px 10px; /* –û—Ç—Å—Ç—É–ø –≤–Ω—É—Ç—Ä–∏ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∞ */
    text-align: center; /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç */
    font-size: 0.9em; /* –£–º–µ–Ω—å—à–∞–µ–º —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ –¥–ª—è –¥–∞—Ç—ã */
}

    </style>


















    <title>–ú–µ—Å—Å–µ–Ω–¥–∂–µ—Ä</title>
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <h2>–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</h2>
            <div id="my-profile" class="current-contact">
                <img id="my-avatar" class="avatar" alt="–ê–≤–∞—Ç–∞—Ä" src="OwnProfilePic.png">
                <div>
                    <span id="my-name">–ì–∞—É—Å—Å –ö–∞—Ä–ª –§—Ä–∏–¥—Ä–∏—Ö</span>
                    <span id="my-description" class="compact-description"><br>–í —Å–µ—Ç–∏</span>
                </div>
            </div>
            <h2>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h2>
            <ul id="contact-list">
                <li class="contact" data-chat="chat1" data-avatar="avatar1.png" data-name="–ò–æ–≥–∞–Ω–Ω –ë–µ–Ω–µ–¥–∏–∫—Ç –õ–∏—Å—Ç–∏–Ω–≥" data-description="fisting listing hamster combat" data-profile="profile1.html">
                    <img src="avatar1.png" alt="–ê–≤–∞—Ç–∞—Ä 1" class="avatar">
                    <span>–ò–æ–≥–∞–Ω–Ω –ë–µ–Ω–µ–¥–∏–∫—Ç –õ–∏—Å—Ç–∏–Ω–≥</span>
                </li>
                <li class="contact" data-chat="chat2" data-avatar="avatar2.png" data-name="–ö–æ–≤–∞–ª–µ–≤—Å–∫–∞—è –°–æ—Ñ—å—è –í–∞—Å–∏–ª—å–µ–≤–Ω–∞" data-description="–ü–µ—Ä–≤–∞—è –≤ –º–∏—Ä–µ –∂–µ–Ω—â–∏–Ω–∞ ‚Äî –ø—Ä–æ—Ñ–µ—Å—Å–æ—Ä –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏üòé" data-profile="profile2.html">
                    <img src="avatar2.png" alt="–ê–≤–∞—Ç–∞—Ä 2" class="avatar">
                    <span>–ö–æ–≤–∞–ª–µ–≤—Å–∫–∞—è</span>
                </li>
                <li class="contact" data-chat="chat3" data-avatar="avatar3.png" data-name="–õ–∞–ø–ª–∞—Å" data-description="–í —á–µ—Å—Ç—å –º–µ–Ω—è –Ω–∞–∑–≤–∞–Ω –¥–µ–º–æ–Ω, –∞ —á–µ–≥–æ –¥–æ–±–∏–ª—Å—è —Ç—ã? üòà" data-profile="profile3.html">
                    <img src="avatar3.png" alt="–õ–∞–ø–ª–∞—Å" class="avatar">
                    <span>–õ–∞–ø–ª–∞—Å</span>
                </li>
            </ul>
        </div>
        <div class="chat-window" id="chat-window">
            <div id="current-contact" class="current-contact">
                <img id="current-avatar" class="avatar" alt="–ê–≤–∞—Ç–∞—Ä" src="backalfa.png">
                <div>
                    <span id="current-name"></span>
                    <span id="current-description" class="compact-description"></span>
                </div>
            </div>
            <h2>–ß–∞—Ç</h2>
            <div id="chat-box"></div>
            <div class="input-container">
                <input type="text" id="message-input" class="message-input" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ...">
                <button id="send-button" class="send-button">--></button>
            </div>
        </div>
    </div>

    <div id="info-popup" class="popup">
        <div class="popup-content">
            <span id="close-popup" class="close">&times;</span>
            <img id="popup-avatar" class="avatar-large" alt="–ê–≤–∞—Ç–∞—Ä">
            <h3 id="popup-name"></h3>
            <p id="popup-description"></p>
            <a id="popup-profile" href="#">–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø—Ä–æ—Ñ–∏–ª—è</a>
        </div>
    </div>











    <script>
        const contacts = {
    chat1: [
        { date: "24.12.1723" },
        { message: "–ö–æ—Ä–æ—á–µ, –õ–∏—Å—Ç–∏–Ω–≥", sender: "user" },
        { message: '–Ø —á–µ–∫–Ω—É–ª  "–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –ø–æ —Ç–æ–ø–æ–ª–æ–≥–∏–∏"', sender: "user" },
        { message: "–ò–º–±–∞", sender: "user" },
        { message: '–û—Å–æ–±–µ–Ω–Ω–æ "—á–∏—Å–ª–∞ —É–∑–ª–æ–≤", —ç—Ç–æ —Ç—ã –∫–æ–Ω–µ—á–Ω–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ –ø—Ä–∏–¥—É–º–∞–ª, –º–æ–ª–æ—á–µ–∫.', sender: "user" },
        { message: "–ü—Ä–∏–≤", sender: "contact" },
        { message: "–°–ø–∞—Å–∏–±–æ, —Ä–µ–∞–ª—å–Ω–æ. –î–æ–ª–≥–æ –¥—É–º–∞–ª –Ω–∞–¥ —ç—Ç–∏–º, –Ω–∞–∫–æ–Ω–µ—Ü –≤—ã–ø—É—Å—Ç–∏–ª", sender: "contact" },
        { message: "–ü—Ä–∏—è—Ç–Ω–æ –∑–Ω–∞—Ç—å, —á—Ç–æ —Ç–µ–±–µ –ø–æ–Ω—Ä–∞–≤–∏–ª–æ—Å—å, —Ç—ã –≤–µ–¥—å –≤—Å—ë-—Ç–∞–∫–∏ –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç –¥–ª—è –º–µ–Ω—è üòò", sender: "contact" },
        { date: "–í—á–µ—Ä–∞" },
        { message: "–ù—É —Ç–∞–∫ —á—Ç–æ, –õ–∏—Å—Ç–∏–Ω–≥ ", sender: "user" },
        { message: "–•–æ–º—è–∫ —É–∂–µ –≤—ã—à–µ–ª, —Ç—ã –Ω–µ –≤—ã–≤–µ–ª –µ—â—ë?", sender: "user" }
    ],
    chat2: [
        { date: "16.09.1724" },
        { message: "–ö–æ–≤–∞–ª–µ–≤—Å–∫–∞—è, —Ç—ã –≤–∏–¥–µ–ª–∞ –º–æ—é –Ω–æ–≤—É—é —Ä–∞–±–æ—Ç—É –ø–æ –Ω–µ–µ–≤–∫–ª–∏–¥–æ–≤–æ–π –≥–µ–æ–º–µ—Ç—Ä–∏–∏?", sender: "user" },
        { message: "–ê–≥–∞, –ø—Ä–æ—á–∏—Ç–∞–ª–∞, –ö–∞—Ä–ª. –≠—Ç–æ –ø—Ä–æ—Å—Ç–æ –±–æ–º–±–∞! –ö–æ–≥–¥–∞ –ø—É–±–ª–∏–∫—É–µ—à—å?", sender: "contact" },
        { message: "–î–∞ –≤–æ—Ç –¥—É–º–∞—é, –ø–æ—Ä–∞ –±—ã —É–∂–µ. –ö—Å—Ç–∞—Ç–∏, –∫–∞–∫ —Ç–≤–æ–∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –ø–æ –≤—Ä–∞—â–µ–Ω–∏—é —Ç–≤–µ—Ä–¥—ã—Ö —Ç–µ–ª? ", sender: "user" },
        { message: "–ü–æ—Ç–∏—Ö–æ–Ω—å–∫—É –¥–≤–∏–∂–µ—Ç—Å—è, –Ω–æ —è –±—É–∫—Å—É—é –Ω–µ–º–Ω–æ–≥–æ. –ú–æ–∂–µ—Ç, –≤—Å—Ç—Ä–µ—Ç–∏–º—Å—è, –æ–±—Å—É–¥–∏–º?", sender: "contact" },
        { message: "–¢–æ—á–Ω–æ, –Ω–∞–¥–æ –±—ã –ø–æ—Å–∏–¥–µ—Ç—å, –≥–æ–ª–æ–≤–∞ –¥—ã–º–∏—Ç—Å—è –æ—Ç –∏–¥–µ–π. –ö–æ–≥–¥–∞ —Å–≤–æ–±–æ–¥–Ω–∞?", sender: "user" },
    ],
    chat3: [
        { message: "–ö–æ–≥–¥–∞ –≤—Å—Ç—Ä–µ—á–∞–µ–º—Å—è?", sender: "contact" },
        { message: "–î–∞–≤–∞–π –≤ –ø—è—Ç–Ω–∏—Ü—É?", sender: "user" },
        { message: "–°—É–ø–µ—Ä, –∂–¥—É —Å –Ω–µ—Ç–µ—Ä–ø–µ–Ω–∏–µ–º!", sender: "contact" }
    ]
};



function setDefaultAvatar(imgElement) {
            imgElement.onerror = null;
            imgElement.src = 'backalfa.png';
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –Ω–∞ –ø—Ä–æ—Ñ–∏–ª—å
        document.getElementById('my-profile').addEventListener('click', function() {
            window.location.href = 'profile0.html'; // –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø—Ä–æ—Ñ–∏–ª—è
        });





// –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –µ—Å–ª–∏ –æ–Ω–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ
function setDefaultAvatar(imgElement) {
    imgElement.onerror = null; // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª –æ—à–∏–±–æ–∫
    imgElement.src = 'backalfa.png'; // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
}

document.querySelectorAll('.contact').forEach(contact => {
    contact.addEventListener('click', function() {
        const chatId = this.getAttribute('data-chat');
        const avatar = this.getAttribute('data-avatar');
        const name = this.getAttribute('data-name');
        const description = this.getAttribute('data-description');
        const profileLink = this.getAttribute('data-profile');
        document.getElementById('popup-profile').href = profileLink; // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å—Å—ã–ª–∫—É

        const currentAvatar = document.getElementById('current-avatar');
        currentAvatar.src = avatar;
        currentAvatar.onerror = () => setDefaultAvatar(currentAvatar); // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞ –æ—à–∏–±–∫—É

        document.getElementById('current-name').textContent = name;
        document.getElementById('current-description').textContent = description;

        const chatBox = document.getElementById('chat-box');
        chatBox.innerHTML = ''; // –û—á–∏—â–∞–µ–º —á–∞—Ç –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π –Ω–æ–≤–æ–≥–æ

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
        contacts[chatId].forEach(messageObj => {
        // –ï—Å–ª–∏ –µ—Å—Ç—å –¥–∞—Ç–∞, –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º –µ—ë –æ—Ç–¥–µ–ª—å–Ω–æ
        if (messageObj.date) {
            const dateContainer = document.createElement('div');
            dateContainer.classList.add('date-container'); // –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –¥–∞—Ç—ã

            const dateElement = document.createElement('div');
            dateElement.textContent = messageObj.date;
            dateElement.classList.add('date'); // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å –¥–ª—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏ –¥–∞—Ç—ã

            dateContainer.appendChild(dateElement);
            chatBox.appendChild(dateContainer); // –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –¥–∞—Ç–æ–π –≤ —á–∞—Ç
        }

        // –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
        if (messageObj.message) {
            const messageElement = document.createElement('div');
            messageElement.textContent = messageObj.message;
            messageElement.classList.add('message', messageObj.sender); // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Å—Ç–∞—Ç—É—Å –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è
            chatBox.appendChild(messageElement);
        }
        });
    });
});

// –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –ø—Ä–æ—Ñ–∏–ª—è
document.getElementById('my-avatar').onerror = function() {
    setDefaultAvatar(this);
};

// –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
let lastSentDate = null; // –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ—Å–ª–µ–¥–Ω–µ–π –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –¥–∞—Ç—ã

function sendMessage() {
    const messageInput = document.getElementById('message-input');
    const messageText = messageInput.value.trim();

    if (messageText) {
        const messageElement = document.createElement('div');
        messageElement.classList.add('message', 'user');

        // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É
        const currentDate = new Date();
        const formattedDate = `${currentDate.getDate()}.${currentDate.getMonth() + 1}.${currentDate.getFullYear()}`;
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å–ª–∏ –¥–∞—Ç–∞ —É–∂–µ –±—ã–ª–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞
        if (lastSentDate !== formattedDate) {
            // –°–æ–∑–¥–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è –¥–∞—Ç—ã
            const dateContainer = document.createElement('div');
            dateContainer.classList.add('date-container');
            const dateElement = document.createElement('div');
            dateElement.textContent = "–°–µ–≥–æ–¥–Ω—è"; // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–µ–∫—Å—Ç "–°–µ–≥–æ–¥–Ω—è"
            dateElement.classList.add('date');
            dateContainer.appendChild(dateElement);
            
            document.getElementById('chat-box').appendChild(dateContainer); // –î–æ–±–∞–≤–ª—è–µ–º –¥–∞—Ç—É –≤ —á–∞—Ç
            lastSentDate = formattedDate; // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ—Å–ª–µ–¥–Ω—é—é –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—É—é –¥–∞—Ç—É
        }

        // –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
        messageElement.textContent = messageText;
        document.getElementById('chat-box').appendChild(messageElement);
        
        messageInput.value = ''; // –û—á–∏—â–∞–µ–º –ø–æ–ª–µ –≤–≤–æ–¥–∞
        document.getElementById('chat-box').scrollTop = document.getElementById('chat-box').scrollHeight; // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –≤–Ω–∏–∑
    }
}




const infoPopup = document.getElementById('info-popup');
const popupName = document.getElementById('popup-name');
const popupAvatar = document.getElementById('popup-avatar');
const popupDescription = document.getElementById('popup-description');

document.getElementById('current-contact').addEventListener('click', function() {
    const avatar = document.getElementById('current-avatar').src;
    const name = document.getElementById('current-name').textContent;
    const description = document.getElementById('current-description').textContent;

    popupAvatar.src = avatar;
    popupAvatar.onerror = () => setDefaultAvatar(popupAvatar); // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏ –¥–ª—è –≤—Å–ø–ª—ã–≤–∞—é—â–µ–≥–æ –æ–∫–Ω–∞
    popupName.textContent = name;
    popupDescription.textContent = description;
    
    infoPopup.style.display = 'flex'; // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–ø–∞–ø
});

// –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ–ø–∞–ø–∞
document.getElementById('close-popup').addEventListener('click', function() {
    infoPopup.style.display = 'none'; // –°–∫—Ä—ã–≤–∞–µ–º –ø–æ–ø–∞–ø
});

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏—è enter –∏–ª–∏ –∫–ª–∏–∫–∞ –ø–æ –∫–Ω–æ–ø–∫–µ –æ—Ç–ø—Ä–∞–≤–∫–∏
document.getElementById('send-button').addEventListener('click', sendMessage);
document.getElementById('message-input').addEventListener('keypress', function(event) {
    if (event.key === 'Enter') {
        sendMessage();
    }
});
    </script>
</body>
</html>